{*
/***************************************************************************
                              menu_disk_list.tpl
*                            --------------------------
*   begin                : Sunday, August 28, 2005
*   copyright            : (C) 2005 Atari Legend
*   email                : admin@atarilegend.com
*
*   id : menus_list.html ,v 0.10 2016/08/29 ST Graveyard 22:41
*           - AL 2.0
*   Id : menus_list.html ,v 0.20 2017/02/07 STG
*           - adding authors
***************************************************************************/

************************************************************************************************
The main game page
************************************************************************************************
*}
{extends file='1/admin/frontpage.html'}
{block name=java_script}
<script type="text/javascript" src="{$template_dir}includes/js/lightbox.min.js"></script>
<link type="text/css" href="{$style_dir}css/lightbox.css" hreflang="en" rel="stylesheet">

<script type="text/javascript">
function OSDMessageDisplay(message) {
    $.notify_osd.create({
        'text': message, // notification message
        'icon': '{$style_dir}images/osd_icons/star.png', // icon path, 48x48
        'sticky': false, // if true, timeout is ignored
        'timeout': 4, // disappears after 6 seconds
        'dismissable': true // can be dismissed manually
    });
}

function editDisk(str) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(str);
    $.ajax({
        // The URL for the request
        url: "ajax_menus_detail.php",
        data: "action=edit_disk_box&menu_disk_id=" + str,
        type: "GET",
        dataType: "html",
        // Code to run if the request succeeds;
        // the response is passed to the function
        success: function(html) {
            $("#" + disk_edit_ajax).html(html);
        }
    });
}

function CloseeditDisk(str) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(str);
    $.ajax({
        // The URL for the request
        url: "ajax_menus_detail.php",
        data: "action=close_edit_disk_box&menu_disk_id=" + str,
        type: "GET",
        dataType: "html",
        // Code to run if the request succeeds;
        // the response is passed to the function
        success: function(html) {
            $("#" + disk_edit_ajax).html(html);
        }
    });
}

function popAddGames(str) {
    if (str == "") {
        $("#menu_detail_expand_games").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_addgames_menus.php",
            data: "action=game_browse&list=full&query=num&menu_disk_id=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_games").html(html);
                $("#gameto_menu_link").html("<a onclick=\"closeAddGames(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Game/Tool/Demo to menu</a>");
                GameSearchListen();
            }
        });
    }
}

function closeAddGames(str) {
    $("#menu_detail_expand_games").html("");
    $("#gameto_menu_link").html("<a onclick=\"popAddGames(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Game/Tool/Demo to menu</a>");
    return;
}

function SearchingGame(GameSearchAction) {
    if (GameSearchAction === "game_browse") {
        var form_values = $("#game_search_menu").serialize() + "&action=game_browse&list=inner&query=" + $(".JSGameBrowse").val();
    } else if (GameSearchAction === "game_search") {
        var form_values = $("#game_search_menu").serialize() + "&action=game_search&list=inner&query=" + $("#gamesearch_menudisk").val();
    }
    $.ajax({
        // The URL for the request
        url: "ajax_addgames_menus.php",
        data: form_values,
        type: "GET",
        dataType: "html",
        // Code to run if the request succeeds;
        // the response is passed to the function
        success: function(html) {
            $("#game_list").html(html);
        }
    });
}

function GameSearchListen() {
    $(".JSGameBrowse").change(function() {
        SearchingGame("game_browse");
    });
    $("#gamesearch_menudisk").keyup(function() {
        var value = $(this).val();
        if (value.length >= 3) {
            SearchingGame("game_search");
        }
    });
}

function addGametoMenu(software_id, menu_disk_id, software_type) {
    if (software_id === "") {
        $("#menu_software_list").html() = "";
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "db_menu_disk.php",
            data: "action=add_title_to_menu&software_id=" + software_id + "&menu_disk_id=" + menu_disk_id + "&software_type=" + software_type,
            type: "POST",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                var ReturnHtml = html.split('[BRK]');
                $("#menu_software_list").html(ReturnHtml[0]);
                OSDMessageDisplay(ReturnHtml[1]);
            }
        });
    }
}
// Are you sure question Delete
function DeleteGamefromMenuButton(str, menu_disk_id) {
    $("#dialog_confirm_delete").dialog({
        resizable: false,
        height: 140,
        modal: true,
        buttons: {
            "Delete title": function() {
                $(this).dialog("close");
                DeleteGamefromMenu(str, menu_disk_id);
            },
            Cancel: function() {
                $(this).dialog("close");
                $("#menu_disk_title_id" + str).prop("checked", false);
            }
        }
    });
}

function DeleteGamefromMenu(menu_disk_title_id, menu_disk_id) {
    if (menu_disk_title_id === "") {
        $("#menu_software_list").html() = "";
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "db_menu_disk.php",
            data: "action=delete_from_menu_disk&menu_disk_title_id=" + menu_disk_title_id + "&menu_disk_id=" + menu_disk_id,
            type: "POST",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                var ReturnHtml = html.split('[BRK]');
                $("#menu_software_list").html(ReturnHtml[0]);
                OSDMessageDisplay(ReturnHtml[1]);
            }
        });
    }
}

function DeleteMenuDiskModal(menu_disk_id) {
    $("#dialog_confirm_delete_menu_disk").dialog({
        resizable: false,
        height: 140,
        modal: true,
        buttons: {
            "Delete disk": function() {
                $(this).dialog("close");
                DeleteMenuDisk(menu_disk_id);
            },
            Cancel: function() {
                $(this).dialog("close");
            }
        }
    });
}

function DeleteMenuDisk(menu_disk_id) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(menu_disk_id);
    $.ajax({
        // The URL for the request
        url: "db_menu_disk.php",
        data: "action=delete_menu_disk&menu_disk_id=" + menu_disk_id,
        type: "POST",
        dataType: "html",
        // Code to run if the request succeeds;
        // the response is passed to the function
        success: function(html) {
            var ReturnHtml = html.split("[BRK]");
            $("#" + disk_edit_ajax).html("");
            if (ReturnHtml[9] !== undefined) {
                ReturnHtml[9] = ReturnHtml[9];
            }
            OSDMessageDisplay(ReturnHtml[4]);
        }
    });
}

function addNewdisk(str) {
    if (str == "") {
        $("#new_disk").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_menus.php",
            data: "action=add_new_disk_box&menu_sets_id=" + str,
            type: "POST",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#new_disk").html(html);
                $("#close_new_disk").html("<a onclick=\"CloseaddNewdisk(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add New Disk</a>");
            }
        });
    }
}

function CloseaddNewdisk(str) {
    $("#new_disk").html("");
    $("#close_new_disk").html("<a onclick=\"addNewdisk(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add New Disk</a>");
    return;
}

function myFunction() {
    $but = $('#file_upload_game_file');
    $("input:file[id=file_upload]").change(function() {
        document.getElementById('file_upload_game_screenshots').value = 'file(s) selected';
    });
    $("input:file[id=file_upload2]").change(function() {
        document.getElementById('file_upload_game_file').value = $(this).val();
    });
}

function browseCrew(str) {
    if (str == "") {
        $("#option_crew").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_menus.php",
            data: "action=crew_browse&query=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#option_crew").html(html);
            }
        });
    }
}

function browseIndividual(str) {
    if (str == "") {
        $("#option_ind").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_menus.php",
            data: "action=ind_browse&query=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#option_ind").html(html);
            }
        });
    }
}

function browseInd(str) {
    if (str == "") {
        $("#ind_member").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_menus_detail.php",
            data: "action=ind_gen_browse&query=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#ind_member").html(html);
            }
        });
    }
}

function searchInd(str) {
    if (str == "") {
        str = "empty";
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("ind_member").innerHTML = xmlhttp.responseText;
            }
        }
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("ind_member").innerHTML = xmlhttp.responseText;
            }
        }
        xmlhttp.open("GET", "../menus/ajax_menus_detail.php?action=ind_gen_search&query=" + str, true);
        xmlhttp.send();
    }
}

function IndDelete(ind_select) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this individual from this menu set?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        url = "db_menu_disk.php?menu_sets_id={$menu_set.menu_sets_id}&ind_id=" + ind_select + "&action=delete_ind_from_menu_set";
        location.href = url;
    }
}

function CrewDelete(crew_select) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this crew from this menu set?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        url = "db_menu_disk.php?menu_sets_id={$menu_set.menu_sets_id}&crew_id=" + crew_select + "&action=delete_crew_from_menu_set";
        location.href = url;
    }
}

function MenuTypeDelete(menu_type_select) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this menu type from this menu set?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        url = "db_menu_disk.php?menu_sets_id={$menu_set.menu_sets_id}&menu_type_id=" + menu_type_select + "&action=delete_menu_type_from_menu_set";
        location.href = url;
    }
}

function popAddIntroCred(str) {
    if (str == "") {
        $("#menu_detail_expand").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_menus_detail.php",
            data: "action=add_intro_credit&query=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand").html(html);
                $("#intro_credit_link").html("<a onclick=\"closeAddIntroCred(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add intro credits</a>");
            }
        });
    }
}

function closeAddIntroCred(str) {
    $("#menu_detail_expand").html("");
    $("#intro_credit_link").html("<a onclick=\"popAddIntroCred(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add intro credits</a>");
    return;
}

function popAddAuthorMenutitle(menu_disk_title_id, game_id, game_name) {
    if (menu_disk_title_id == "") {
        $("#menu_detail_expand_author_title").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_add_author_menutitle.php",
            data: "menu_disk_title_id=" + menu_disk_title_id + "&game_name=" + game_name + "&game_id=" + game_id,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_author_title").html(html);
                $("#author_to_menu_title" + game_id).html("<a onclick=\"closeAddAuthor(" + menu_disk_title_id + "," + game_id + ",'" + game_name + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">" + game_name + "</a>");
            }
        });
    }
}

function closeAddAuthor(menu_disk_title_id, game_id, game_name) {
    $("#menu_detail_expand_author_title").html("");
    $("#author_to_menu_title" + game_id).html("<a onclick=\"popAddAuthorMenutitle(" + menu_disk_title_id + "," + game_id + ",'" + game_name + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">" + game_name + "</a>");
    return;
}

function popAddAuthorMenutitleDoc(menu_disk_title_id, game_id, game_name) {
    if (menu_disk_title_id == "") {
        $("#menu_detail_expand_author_title_doc").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_add_author_menutitle.php",
            data: "menu_disk_title_id=" + menu_disk_title_id + "&game_name=" + game_name + "&game_id=" + game_id,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_author_title_doc").html(html);
                $("#author_to_menu_title_doc"+game_id).html("<a onclick=\"closeAddAuthorDoc(" + menu_disk_title_id + "," + game_id + ",'" + game_name + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">" + game_name + "</a>");
            }
        });
    }
}

function closeAddAuthorDoc(menu_disk_title_id, game_id, game_name) {
    $("#menu_detail_expand_author_title_doc").html("");
    $("#author_to_menu_title_doc" + game_id).html("<a onclick=\"popAddAuthorMenutitleDoc(" + menu_disk_title_id + "," + game_id + ",'" + game_name + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">" + game_name + "</a>");
    return;
}

function popAddDocs(str) {
    if (str == "") {
        $("#menu_detail_expand_docs").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_adddocs_menus.php",
            data: "action=game_browse&list=full&query=num&menu_disk_id=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_docs").html(html);
                $("#docto_menu_link").html("<a onclick=\"closeAddDocs(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Doc to menu</a>");
            }
        });
    }
}

function closeAddDocs(str) {
    $("#menu_detail_expand_docs").html("");
    $("#docto_menu_link").html("<a onclick=\"popAddDocs(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Doc to menu</a>");
    return;
}

function popAddScreenshots(str) {
    if (str == "") {
        $("#menu_detail_expand_screenshots").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_addscreenshots_menus.php",
            data: "menu_disk_id=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_screenshots").html(html);
                $("#screenshot_link").html("<a onclick=\"closeAddScreenshots("+str+")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Screenshots to menu</a>");
            }
        });
    }
}

function closeAddScreenshots(str) {
    $("#menu_detail_expand_screenshots").html("");
    $("#screenshot_link").html("<a onclick=\"popAddScreenshots(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add Screenshots to menu</a>");
    return;
}

function popAddFile(str) {
    if (str == "") {
        $("#menu_detail_expand_file").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_addfile_menus.php",
            data: "menu_disk_id=" + str,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#menu_detail_expand_file").html(html);
                $("#file_link").html("<a onclick=\"closeAddFile("+str+")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add File to menu</a>");
            }
        });
    }
}

function closeAddFile(str) {
    $("#menu_detail_expand_file").html("");
    $("#file_link").html("<a onclick=\"popAddFile(" + str + ")\" style=\"cursor: pointer;\" class=\"MAINNAV\">Add File to menu</a>");
    return;
}

function addslashes(str) {
    return (str + '').replace(/[\\"']/g, '\\$&').replace(/\u0000/g, '\\0');
}

function popAddSet(str, menu_disk_id, title_name) {
    if (str == "") {
        $("#menu_detail_expand_set").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("menu_detail_expand_set").innerHTML = xmlhttp.responseText;
                var title = addslashes(title_name);
                $("#"+str).html("<a onclick=\"closeAddSet(" + str + "," + menu_disk_id + ",'" + title + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">Add</a>");
            }
        }
        var elementExists = document.getElementById("set_chain_update");
        if (typeof(elementExists) != 'undefined' && elementExists != null) {
            $("#set_chain_update").html("");
        }
        xmlhttp.open("GET", "../menus/ajax_addset_menus.php?menu_disk_title_id=" + str + "&menu_disk_id=" + menu_disk_id + "&title_name=" + title_name, true);
        xmlhttp.send();
    }
}

function closeAddSet(str, menu_disk_id, title_name) {
    var title = addslashes(title_name);
    $("#menu_detail_expand_set").html("");
    $("#"+str).html("<a onclick=\"popAddSet(" + str + "," + menu_disk_id + ",'" + title + "')\" style=\"cursor: pointer;\" class=\"standard_tile_link\">Add</a>");
    return;
}

function browseDoc(str, menu_disk_id) {
    if (str == "") {
        $("#doc_list").html("");
        return;
    } else {
        $.ajax({
            // The URL for the request
            url: "ajax_adddocs_menus.php",
            data: "action=game_browse&list=inner&query=" + str + "&menu_disk_id=" + menu_disk_id,
            type: "GET",
            dataType: "html",
            // Code to run if the request succeeds;
            // the response is passed to the function
            success: function(html) {
                $("#doc_list").html(html);
            }
        });
    }
}

function searchDoc(menu_disk_id) {
    var JSid = document.getElementById("docsearch_menudisk");
    var str = JSid.value
    if (str == "") {
        str = "empty";
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("doc_list").innerHTML = xmlhttp.responseText;
            }
        }
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("doc_list").innerHTML = xmlhttp.responseText;
            }
        }
        //       if (str.length >= 3) {
        xmlhttp.open("GET", "../menus/ajax_adddocs_menus.php?action=game_search&list=inner&query=" + str + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
        //    }
    }
}

function addAuthorstoMenutitle(menu_disk_title_id) {
    if (menu_disk_title_id == "") {
        $("#author_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("author_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("author_list").reset();
            }
        }
        var formData = new FormData(document.getElementById("authors_form"));
        xmlhttp.open("POST", "../menus/db_menu_disk.php", true);
        xmlhttp.send(formData);
    }
}

function addDoctoMenu(software_id, menu_disk_id, software_type) {
    if (software_id == "") {
        $("#menu_doc_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_doc_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("doc_add_to_menu").reset();
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=add_doc_to_menu&software_id=" + software_id + "&menu_disk_id=" + menu_disk_id + "&software_type=" + software_type, true);
        xmlhttp.send();
    }
}

function addScreenshottoMenu(menu_disk_id) {
    if (menu_disk_id == "") {
        $("#menu_screenshot_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_screenshot_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("screenshot_add_to_menu").reset();
            }
        }
        var formData = new FormData(document.getElementById("screenshot_add_to_menu"));
        xmlhttp.open("POST", "../menus/db_menu_disk.php", true);
        xmlhttp.send(formData);
    }
}

function addFiletoMenu(menu_disk_id) {
    if (menu_disk_id == "") {
        $("#menu_file_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_file_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("File_add_to_menu").reset();
            }
        }
        var formData = new FormData(document.getElementById("file_add_to_menu"));
        xmlhttp.open("POST", "../menus/db_menu_disk.php", true);
        xmlhttp.send(formData);
    }
}

function LinkChain(menu_disk_title_id, menu_disk_id) {
    if (menu_disk_title_id == "") {
        $("#menu_software_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_software_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                //document.getElementById("link_game_to_set").reset();
                document.getElementById("menu_detail_expand_set").innerHTML = "";
            }
        }
        var formData = new FormData(document.getElementById("link_game_to_set"));
        xmlhttp.open("POST", "../menus/db_menu_disk.php", true);
        xmlhttp.send(formData);
    }
}

function DeleteChain(menu_disk_title_id, menu_disk_id, title_name) {
    if (menu_disk_title_id == "") {
        $("#menu_software_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_software_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                //document.getElementById("link_game_to_set").reset();
                $("#menu_detail_expand_set").html("");
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_game_from_set&menu_disk_title_id=" + menu_disk_title_id + "&menu_disk_id=" + menu_disk_id + "&title_name=" + title_name, true);
        xmlhttp.send();
    }
}

function CreateChain(str, menu_disk_id) {
    if (str == "") {
        $("#menu_software_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_software_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                //document.getElementById("link_game_to_set").reset();
                $("#menu_detail_expand_set").html("");
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=add_set_to_menu&menu_disk_title_id=" + str + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}

function deleteScreenshotfromMenu(str, menu_disk_id) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this screenshot from this menu disk?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value == "0") {
        $("#menu_screenshot_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_screenshot_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_screen_from_menu_disk&screenshot_id=" + str + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}

function deleteDownload(str, menu_disk_id) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this download from this menu disk?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value == "0") {
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_file_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_download_from_menu_disk&menu_disk_download_id=" + str + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}

function deleteDocfromMenu(str, menu_disk_id) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this doc title from this menu disk?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    document.getElementById("menu_disk_title_id" + str).checked = false;
    if (return_value != "0") {
        if (str == "") {
            document.getElementById("menu_doc_list").innerHTML = "";
            return;
        } else {
            if (window.XMLHttpRequest) {
                // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    data = xmlhttp.responseText.split("[BRK]");
                    document.getElementById("menu_doc_list").innerHTML = data[0];
                    OSDMessageDisplay(data[1]);
                }
            }
            xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_doc_from_menu_disk&menu_disk_title_id=" + str + "&menu_disk_id=" + menu_disk_id, true);
            xmlhttp.send();
        }
    }
}

function DeleteSet(str) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this set?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        url = "../menus/db_menu_disk.php?action=delete_set&menu_sets_id=" + str;
        location.href = url;
    }
}

function PublishSet(str, action) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Change status of this set?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        url = "../menus/db_menu_disk.php?action=publish_set&online=" + action + "&menu_sets_id=" + str;
        location.href = url;
    }
}

function addCreditstoMenu(menu_disk_id) {
    if (menu_disk_id == "") {
        $("#menu_credit_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_credit_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("menu_credit_list").reset();
            }
        }
        var ind_id = document.getElementById("menu_credits_form").elements.namedItem("ind_id").value;
        var author_type_id = document.getElementById("menu_credits_form").elements.namedItem("author_type_id").value;
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=add_intro_credits&author_type_id=" + author_type_id + "&menu_disk_id=" + menu_disk_id + "&ind_id=" + ind_id, true);
        xmlhttp.send();
    }
}

function DeleteCredits(menu_disk_credits_id, menu_disk_id) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this person from the credit list?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        if (menu_disk_credits_id == "") {
            $("#menu_credit_list").html("");
            return;
        } else {
            if (window.XMLHttpRequest) {
                // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    data = xmlhttp.responseText.split("[BRK]");
                    document.getElementById("menu_credit_list").innerHTML = data[0];
                    OSDMessageDisplay(data[1]);
                    document.getElementById("menu_credit_list").reset();
                }
            }
            xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_menu_disk_credits&menu_disk_credits_id=" + menu_disk_credits_id + "&menu_disk_id=" + menu_disk_id, true);
            xmlhttp.send();
        }
    }
}

function DeleteTitleCredits(menu_disk_title_id, ind_id, author_type_id) {
    // CONFIRM REQUIRES ONE ARGUMENT
    var message = "Are you sure you want to delete this person from the title credit list?";
    // CONFIRM IS BOOLEAN. THAT MEANS THAT
    // IT RETURNS TRUE IF 'OK' IS CLICKED
    // OTHERWISE IT RETURN FALSE
    var return_value = confirm(message);
    if (return_value != "0") {
        if (menu_disk_title_id == "") {
            $("#author_list").html("");
            return;
        } else {
            if (window.XMLHttpRequest) {
                // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    data = xmlhttp.responseText.split("[BRK]");
                    document.getElementById("author_list").innerHTML = data[0];
                    OSDMessageDisplay(data[1]);
                    document.getElementById("author_list").reset();
                }
            }
            xmlhttp.open("GET", "../menus/db_menu_disk.php?action=delete_menu_disk_title_credits&menu_disk_title_id=" + menu_disk_title_id + "&author_type_id=" + author_type_id + "+&ind_id=" + ind_id, true);
            xmlhttp.send();
        }
    }
}

function ChangeState(state_id, menu_disk_id) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(menu_disk_id);
    if (menu_disk_id == "") {
        document.getElementById(disk_edit_ajax).innerHTML = "";
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById(disk_edit_ajax).innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById(disk_edit_ajax).reset();
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=change_menu_disk_state&state_id=" + state_id + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}
//function ChangeNick(individual_nicks_id,menu_disk_credits_id,menu_disk_id) {
// if (menu_disk_credits_id == "") {
//        document.getElementById("menu_credit_list").innerHTML = "";
//        return;
//    } else {
//        if (window.XMLHttpRequest) {
//            // code for IE7+, Firefox, Chrome, Opera, Safari
//           xmlhttp = new XMLHttpRequest();
//        } else {
//            // code for IE6, IE5
//            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
//        }
//       xmlhttp.onreadystatechange = function() {
//            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
//                document.getElementById("menu_credit_list").innerHTML = xmlhttp.responseText;
//                 OSDMessageDisplay(data[1]);
//            }
//        }
//        xmlhttp.open("GET","../menus/db_menu_disk.php?action=change_nickname&individual_nicks_id="+individual_nicks_id+"&menu_disk_credits_id="+menu_disk_credits_id+"&menu_disk_id="+menu_disk_id,true);
//        xmlhttp.send();
//    }
//}
function ChangeDoctype(doc_type_id, doc_id, menu_disk_id) {
    if (doc_type_id == "") {
        $("#menu_doc_list").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById("menu_doc_list").innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById("menu_doc_list").reset();
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=change_doctype&doc_type_id=" + doc_type_id + "&doc_id=" + doc_id + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}

function ChangeYear(year_id, menu_disk_id) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(menu_disk_id);
    if (menu_disk_id == "") {
        document.getElementById(disk_edit_ajax).innerHTML = "";
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById(disk_edit_ajax).innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById(disk_edit_ajax).reset();
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=change_menu_disk_year&year_id=" + year_id + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}

function ChangeParent(parent_id, menu_disk_id) {
    var str2 = "diskedit_ajax_";
    var disk_edit_ajax = str2.concat(menu_disk_id);
    if (menu_disk_id == "") {
        $("#disk_edit_ajax").html("");
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                data = xmlhttp.responseText.split("[BRK]");
                document.getElementById(disk_edit_ajax).innerHTML = data[0];
                OSDMessageDisplay(data[1]);
                document.getElementById(disk_edit_ajax).reset();
            }
        }
        xmlhttp.open("GET", "../menus/db_menu_disk.php?action=change_menu_disk_parent&parent_id=" + parent_id + "&menu_disk_id=" + menu_disk_id, true);
        xmlhttp.send();
    }
}
$(document).ready(function() {
    $(".user_popup").fancybox({
        maxWidth: 900,
        maxHeight: 600,
        fitToView: true,
        width: '100%',
        height: '70%',
        autoSize: true,
        closeClick: false,
        openEffect: 'elastic',
        closeEffect: 'elastic'
    });
});





























</script>
{/block}

{block name=title}Menus Search results{/block}

{block name=left_tile}
<div class="standard_tile">
    <h1>SET OPTIONS</h1>
    <div class="standard_tile_line"></div>
    <div class="standard_table_center">
        <br>
        <form action="../menus/menus_disk_list.php" method="get" name="post" id="menu_set_change">
            <select name="menu_sets_id" id="quick_search_pub_select" onchange="this.form.submit()">
                <option value="" selected style="background-color:white;">Change Menu Set</option>
                {foreach from=$menu_set_list item=line}
                    {html_options values=$line.menu_sets_id output=$line.menu_sets_name}
                {/foreach}
            </select>
        </form>
        <br>
        <div class="standard_tile_line"></div>
        <br>
        {* Name set *}
        <form action="../menus/db_menu_disk.php" method="post" name="post" id="menu_edit">
            <b>Menu set Editor</b><br><br>
            Change name of menu set:<br>
            <input type="text" name="menu_sets_name" value="{$menu_set.menu_sets_name}" class="standard_tile_input_small"><br/>
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_name_update">
            <br>
            <input type="submit" value="Update" class="quick_search_games_button">
        </form>
        <br>
        <div class="standard_tile_line"></div>
        <div class="help-tip">
            <p>This is the overal type of the menu disk. Eg. The "Adrenaline UK" set is considered to be a game set. The "Sewer Doc Disk" set is an E-zine/doc set. However, this does not
               mean a game set can not contain anything else. Each menu disk title in the database has its own menu disk title TYPE attribute. Please see the general HELP of this section for more details.</p>
        </div>
        <br>
        <form action="../menus/db_menu_disk.php" method="post" name="post" id="menu_edit">
            <div style="margin-left:20px;">
                Menu type:<br>
            </div>
            <select name="menu_type_browse" size="1" id="quick_search_pub_select">
                <option value="" selected>-</option>
                {foreach from=$menu_types item=line}
                    {html_options values=$line.menu_types_id output=$line.menu_types_text}
                {/foreach}
            </select>
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_type_set">
            <br><br>
            <input type="submit" value="Set" class="quick_search_games_button">
        </form>
        <br>
        {if isset($connected_menu_types)}
            {foreach from=$connected_menu_types item=line}
             {$line.menu_types_text} - <a href="#" class="standard_tile_link" onclick="MenuTypeDelete({$line.menu_types_main_id});">Delete</a><br>
            {/foreach}
        {/if}
        <br>
        <div class="standard_tile_line"></div>
        <div class="help-tip">
            <p>Most Menu Sets are released by a certain crew, a group of people. This is where you set the crew of this menu set. If you want to add or edit a crew, go to the <a href="../crew/crew_main.php" class="standard_tile_link">Crew</a> section.</p>
        </div>
        <br>
        {* Add crew section *}
        <div style="margin-left:20px;">
            <b>Crew Editor</b><br>
        </div>
        <br>
        Set Crew for menu set:<br>
        <form action="../menus/db_menu_disk.php" method="post" name="post_menu_crew_set" id="menu_crew_set">
            <select name="crew_browse" size="1" id="quick_search_small_select" onchange="browseCrew(this.value)">
                <option value="" SELECTED>-</option>
                {html_options values=$az_value output=$az_output}
            </select>
            {* Ajax *}
            <div id="option_crew">
                <select name="crew_id" id="quick_search_pub_select">
                    <option value="" selected>-</option>
                    {foreach from=$crew item=line}
                        {html_options values=$line.crew_id output=$line.crew_name}
                    {/foreach}
                </select>
            </div>
            <br>
            <input type="submit" value="Set" class="quick_search_games_button">
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_crew_set">
        </form>
        <br>
        {if isset($connected_crew)}
        {foreach from=$connected_crew item=line}
         {$line.crew_name} - <a href="#" class="standard_tile_link" onclick="CrewDelete({$line.crew_id});">Delete</a><br>
        {/foreach}
        {/if}
        <br>
        <div class="standard_tile_line"></div>
        <div class="help-tip">
            <p>Some Menu Sets were released by one individual. These sets are not common, but do exist. Go to the <a href="../individuals/individuals_main.php" class="standard_tile_link">Individuals</a> section for more details.</p>
        </div>
        <br>
        {* Add Individual section *}
        <div style="margin-left:20px;">
            <b>Individual Editor</b><br>
        </div>
        <br>
        Set individual for menu set:<br>
        <form action="../menus/db_menu_disk.php" method="post" name="post_menu_ind_set" id="menu_ind_set">
            <select name="ind_browse" size="1" id="quick_search_small_select" onchange="browseIndividual(this.value)">
                <option value="" SELECTED>-</option>
                {html_options values=$az_value output=$az_output}
            </select>
            {* Ajax *}
            <div id="option_ind">
                <select name="ind_id" id="quick_search_pub_select">
                    <option value="" selected>-</option>
                    {foreach from=$ind item=line}
                        {html_options values=$line.ind_id output=$line.ind_name}
                    {/foreach}
                </select>
            </div>
            <br>
            <input type="submit" value="Set" class="quick_search_games_button">
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_ind_set">
        </form>
        <br>
        {if isset($connected_ind)}
        {foreach from=$connected_ind item=line}
         {$line.ind_name} - <a href="#" class="standard_tile_link" onclick="IndDelete({$line.ind_id});">Delete</a><br>
        {/foreach}
        {/if}
        <br>
        <div class="standard_tile_line"></div>
        <br>
        Quick add new Crew to db:
        <form action="../menus/db_menu_disk.php" method="post" name="post_menu_crew_add" id="menu_crew_add">
            <input type="text" name="new_crew_name" value="" class="standard_tile_input_small">
            <br>
            <br>
            <input type="submit" value="Add" class="quick_search_games_button">
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_crew_add">
        </form>
        <br>
        <div class="standard_tile_line"></div>
        <br>
        Quick add new individual to db:
        <form action="../menus/db_menu_disk.php" method="post" name="post_menu_ind_add" id="menu_ind_add">
            <input type="text" name="new_ind_name" value="" class="standard_tile_input_small">
            <br>
            <br>
            <input type="submit" value="Add" class="quick_search_games_button">
            <input type="hidden" name="menu_sets_id" value="{$menu_set.menu_sets_id}">
            <input type="hidden" name="action" value="menu_set_ind_add">
        </form>
        <br>
    </div>
</div>
<br>
{include file='1/admin/left_nav.html'}
{/block}

{block name=main_tile}
<div id="dialog_confirm_delete" title="Delete Title?" style="display:none;">
  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>
  Are you sure?</p>
</div>
<div id="dialog_confirm_delete_menu_disk" title="Delete Disk?" style="display:none;">
  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>
  Are you sure?</p>
</div>
<div class="standard_tile">
    <h1>EDIT SET</h1>
    <div class="standard_tile_line"></div>
    <div class="standard_tile_text">
        <div class="left_nav_section">
            Overhere you can edit/delete menu set <b>{$menu_set.menu_sets_name}</b>, or you can add menu disks to it. You can also make the set available on the website with the publish options.
        </div>
        <br>
        <div class="main_company_container">
            <div class="main_company_child" id="child_edit_company" style="text-align:left;">
                <fieldset>
                    <legend>More options</legend>
                        <div id="close_new_disk"><a onclick="addNewdisk({$menu_set.menu_sets_id})" style="cursor: pointer;" class="left_nav_link" >Add New Disk</a><br></div>
                        <a onclick="DeleteSet({$menu_set.menu_sets_id})" style="cursor: pointer;" class="left_nav_link" >Delete set</a>
                </fieldset>
            </div>
            <div class="main_company_child" id="child_add_company" style="text-align:left;">
                <fieldset>
                    <legend>Publish Set</legend>
                        <input onchange="PublishSet({$menu_set.menu_sets_id},'online')" type="radio" name="publish" value="online" {if ({$menu_set.online}=='1')}checked{/if}> Online<br>
                        <input onchange="PublishSet({$menu_set.menu_sets_id},'offline')" type="radio" name="publish" value="offline" {if ({$menu_set.online}=='0')}checked{/if}> Offline<br>
                </fieldset>
            </div>
        </div>
        <br>
        <div id="new_disk"></div>
        <br>
        <table class="standard_table_list" id="game_list_table">
            <tr>
                <th id="menu_disk_list_th">Menu Disk</th>
                <th id="menu_list_crew_th">Crew</th>
                <th id="menu_list_ind_th">Individual</th>
                <th id="menu_state_th">State</th>
            </tr>
            {if isset($menus)}
                {foreach from=$menus item=line}
                    <tr id="diskedit_ajax_{$line.menu_disk_id}">
                        <td class="menu_disk_list_td">{if $line.menu_disk_id != ''}<a onclick="editDisk({$line.menu_disk_id})" style="cursor: pointer;">{$line.menu_disk_name}</a>{else}<i>n/a</i>{/if}</td>
                        <td class="menu_list_crew_td">{if isset($line.crew_id)}{$line.crew_name}{else}<i>n/a</i>{/if}</td>
                        <td class="menu_list_ind_td">{if isset($line.ind_id)}{$line.ind_name}{else}<i>n/a</i>{/if}</td>
                        <td class="menu_state_td">{if isset($line.menu_state)}{$line.menu_state}{else}<i>n/a</i>{/if}</td>
                    </tr>
                {/foreach}
            {/if}
            <tr>
                <td class="standard_table_left" colspan="4">
                    <b>{if $nr_of_entries == 1}1 menu disk found {else} {$nr_of_entries} menu disks found{/if} in {$querytime} sec </b>
                </td>
            </tr>
        </table>
    </div>
</div>
<br>
<div class="standard_table_center"><a href="javascript:history.go(-1)" class="standard_tile_link">back</a></div>
<br>
{/block}
