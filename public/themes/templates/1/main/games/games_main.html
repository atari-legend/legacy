{*
/***************************************************************************
*                             games_main.html
*                            --------------------------
*   begin                : Friday, June 16, 2017
*   copyright            : (C) 2017 Atari Legend
*   email                : admin@atarilegend.com
*
*   Id: games_main.HTML,v 0.10 2017/06/16 20:42 Gatekeeper - creation of file
*
***************************************************************************/

************************************************************************************************
The main game page
************************************************************************************************
*}

{extends file='../front/main.html'}
{block name=title}Search and browse Atari ST games | Atari Legend{/block}

{block name=additional_scripts}
    <script src="{$template_dir}includes/js/dropdown_switch.js"></script> <!-- script to switch from input to drop and back -->
{/block}

{block name=main_body}
    <div id="main" class="main_container_cpanel">
        <div class="content_box_cpanel" id="column_left_cpanel">
            <br>
            {block name=left_tile}
                {if $mode == "advanced"}
                    {if isset($stats) and ($stats == 1)}
                        {include file='../tiles/statistics_tile.html'}
                    {else}
                        {include file='../tiles/who_is_it_tile.html'}
                    {/if}
                    <br>
                    {include file='../tiles/latest_comments_tile.html'}
                {else}
                    {if isset($stats) and ($stats == 1)}
                        {include file='../tiles/statistics_tile.html'}
                    {else}
                        {include file='../tiles/latest_comments_tile.html'}
                    {/if}
                {/if}

            {/block}
        </div>
        <div class="content_box_cpanel" id="column_center_cpanel">
            <br>
            <div class="standard_tile" id="games_main">
                <div class="help-tip">
                    <p>
                        Some extra info : <br><br>
                        <i class="fa fa-chevron-circle-down" aria-hidden="true" title="Click for drop down mode"></i> : Click this item to switch from list to input mode and vice versa<br><br>
                        - <u>Download</u> : Display only games with a download available<br>
                        - <u>Screenshot</u> : Display only games with one or more screenshots available<br>
                        - <u>Boxscan</u> : Same as screenshot, but for boxscans<br>
                        - <u>Review</u> : Display only games that contain a review<br><br>
                        - <u>Export mode</u> : An Excel like output list with filter and sort functions, with possibility to export to CSV, XLSX and JSON. More export features will be available in the future.<br><br>
                        - <u>Advanced search</u> : More search functionalities. Keep in mind these may slow down query speeds.<br>
                    </p>
                </div>
                <h1>GAMES</h1>
                <div class="standard_tile_line"></div>
                <div class="standard_tile_padding">
                    <h6>
                        Welcome to the game section. The place to be for every Atari ST and retro gaming nutcase. Enjoy your stay! Search for a game by using any of the functionalities below.
                        Combinations are allowed. There are currently <b>{$games_nr}</b> games in the database. For more statistics of the db, click <a href="../../main/games/games_main.php?mode={$mode}&stats=1" class="standard_tile_link_reverse">here</a>.
                        if there is data missing and you are willing to contribute, please get in touch with the team.
                    </h6>
                    <div id="games_main_space">
                        <br>
                        <br>
                    </div>
                    <nav id="games_nav">
                        <ul id="games_nav_ul">
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=num" class="primary_button" id="num">#</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=a" class="primary_button" id="a">A</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=b" class="primary_button" id="b">B</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=c" class="primary_button" id="c">C</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=d" class="primary_button" id="d">D</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=e" class="primary_button" id="e">E</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=f" class="primary_button" id="f">F</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=g" class="primary_button" id="g">G</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=h" class="primary_button" id="h">H</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=i" class="primary_button" id="i">I</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=j" class="primary_button" id="j">J</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=k" class="primary_button" id="k">K</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=l" class="primary_button" id="l">L</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=m" class="primary_button" id="m">M</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=n" class="primary_button" id="n">N</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=o" class="primary_button" id="o">O</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=p" class="primary_button" id="p">P</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=q" class="primary_button" id="q">Q</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=r" class="primary_button" id="r">R</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=s" class="primary_button" id="s">S</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=t" class="primary_button" id="t">T</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=u" class="primary_button" id="u">U</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=v" class="primary_button" id="v">V</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=w" class="primary_button" id="w">W</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=x" class="primary_button" id="x">X</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=y" class="primary_button" id="y">Y</a></li>
                            <li><a href="../games/games_main_list.php?action=search&gamebrowse=z" class="primary_button" id="z">Z</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="standard_tile_line"></div>
                <br>
                <br>
                <form action="../games/games_main_list.php" method="get" name="game_search">
                <div id="games_main_parent">
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Title (a-z)</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <select name="gamebrowse" id="games_main_select_site" class="standard_select">
                                <option value="" SELECTED>-</option>
                                {html_options values=$az_value output=$az_output}
                            </select>
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site_site"><h6>Title</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site_text">
                            <input type="text" name="gamesearch" value="" class="standard_input input_full autocompleted" id="gamesearch" data-autocomplete-param="title">
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>By Publisher <a style="cursor: pointer;" onClick="dropdown('games_main_pub_input','games_main_pub_drop','input_pub','drop_pub')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="input_pub" title="Click for drop down mode"></i></a><a style="cursor: pointer;" onClick="input('games_main_pub_input','games_main_pub_drop','input_pub','drop_pub')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="drop_pub" title="Click for input field mode" style="display:none;"></i></a></h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <select name="publisher" id="games_main_pub_drop" style="display:none;" class="standard_select">
                                <option value="-" SELECTED>-</option>
                                {foreach from=$company_publisher item=line}
                                    <option value="{$line.comp_id}">{$line.comp_name}</option>
                                {/foreach}
                            </select>
                            <input type="text" name="publisher_input" value="" class="standard_input input_full autocompleted" id="games_main_pub_input" data-autocomplete-param="publisher">
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>By Developer <a style="cursor: pointer;" onClick="dropdown('games_main_dev_input','games_main_dev_drop','input_dev','drop_dev')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="input_dev" title="Click for drop down mode"></i></a><a style="cursor: pointer;" onClick="input('games_main_dev_input','games_main_dev_drop','input_dev','drop_dev')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="drop_dev" title="Click for input field mode" style="display:none;"></i></a></h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <select name="developer" id="games_main_dev_drop" style="display:none;" class="standard_select">
                                <option value="-" SELECTED>-</option>
                                {foreach from=$company_developer item=line}
                                    <option value="{$line.comp_id}">{$line.comp_name}</option>
                                {/foreach}
                            </select>
                            <input type="text" name="developer_input" value="" class="standard_input input_full autocompleted" id="games_main_dev_input" data-autocomplete-param="developer">
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Release year <a style="cursor: pointer;" onClick="dropdown('games_main_year_input','games_main_year_drop','input_year','drop_year')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="input_year" title="Click for drop down mode"></i></a><a style="cursor: pointer;" onClick="input('games_main_year_input','games_main_year_drop','input_year','drop_year')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="drop_year" title="Click for input field mode" style="display:none;"></i></a></h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <select name="year" id="games_main_year_drop" style="display:none;" class="standard_select">
                                <option value="-" SELECTED>-</option>
                                {foreach from=$releases_year item=year}
                                    <option value="{$year}">{$year}</option>
                                {/foreach}
                            </select>
                            <input type="text" name="year_input" value="" class="standard_input input_full autocompleted" id="games_main_year_input" data-autocomplete-param="year">
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Genre <a style="cursor: pointer;" onClick="dropdown('games_main_cat_input','games_main_cat_drop','input_cat','drop_cat')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="input_cat" title="Click for drop down mode"></i></a><a style="cursor: pointer;" onClick="input('games_main_cat_input','games_main_cat_drop','input_cat','drop_cat')" class="latest_comments_link"><i class="fa fa-chevron-circle-down" aria-hidden="true" id="drop_cat" title="Click for input field mode" style="display:none;"></i></a></h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <select name="category" id="games_main_cat_drop" style="display:none;" class="standard_select">
                                <option value="-" SELECTED>-</option>
                                {foreach from=$game_genre item=genre}
                                    <option value="{$genre->getId()}">{$genre->getName()}</option>
                                {/foreach}
                            </select>
                            <input type="text" name="cat_input" value="" class="standard_input input_full autocompleted" id="games_main_cat_input" data-autocomplete-param="cat">
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Download</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <div class="games_check_row">
                                <div class="links_mod_checkbox">
                                    <input type="checkbox" id="download" name="download" value="1">
                                    <label for="download"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Screenshot</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <div class="games_check_row">
                                <div class="links_mod_checkbox">
                                    <input type="checkbox" id="screenshot" name="screenshot" value="1">
                                    <label for="screenshot"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Boxscan</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <div class="games_check_row">
                                <div class="links_mod_checkbox">
                                    <input type="checkbox" id="boxscan" name="boxscan" value="1">
                                    <label for="boxscan"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Review</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <div class="games_check_row">
                                <div class="links_mod_checkbox">
                                    <input type="checkbox" id="review" name="review" value="1">
                                    <label for="review"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="games_main_row_site">
                        <div class="games_main_text_site"><h6>Export mode</h6></div>
                        <div class="games_main_text_short"><h6>:</h6></div>
                        <div class="games_main_input_site">
                            <div class="games_check_row">
                                <div class="links_mod_checkbox">
                                    <input type="checkbox" id="export" name="export" value="1">
                                    <label for="export"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    {if $mode == "advanced"}
                    <br><br>
                        <div class="games_main_container">
                            <div class="games_main_child" id="child_1_games">
                                <br>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>In development</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="development" name="development" value="1">
                                                <label for="development"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>Unreleased</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="unreleased" name="unreleased" value="1">
                                                <label for="unreleased"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>STOS</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="stos" name="stos" value="1">
                                                <label for="stos"></label>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>Arcade</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="arcade" name="arcade" value="1">
                                                <label for="arcade"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>Unfinished</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="unfinished" name="unfinished" value="1">
                                                <label for="unfinished"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>SEUCK</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="seuck" name="seuck" value="1">
                                                <label for="seuck"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="games_main_row_site">
                                    <div class="games_main_text_check"><h6>STAC</h6></div>
                                    <div class="games_main_text_short"><h6>:</h6></div>
                                    <div class="games_main_input_check">
                                        <div class="games_check_row">
                                            <div class="links_mod_checkbox">
                                                <input type="checkbox" id="stac" name="stac" value="1">
                                                <label for="stac"></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br>
                            </div>
                            <div class="games_main_child" id="child_3_games"><br><br></div>
                            <div class="games_main_child" id="child_2_games">
                            </div>
                        </div>
                    {/if}
                    <br>
                    <br>
                    <div class="standard_tile_text_center">
                        <br>
                        <input type="submit" value="SEARCH" class="primary_button">
                        <br><br>
                    </div>
                    <input type="hidden" name="action" id="action" value="search">
                    <input type="hidden" name="mode" id="mode" value="{if isset($mode)}{$mode}{/if}">
                </div>
                <div class="standard_tile_padding">
                    <div class="standard_tile_text_left" style="display:inline-block;">
                        <a href="../../main/games/games_main.php?mode=standard" class="standard_tile_link">Standard search</a>
                    </div>
                    <div class="standard_tile_text_right" style="display:inline-block;float:right;margin-top: 2px;">
                        <a href="../../main/games/games_main.php?mode=advanced" class="standard_tile_link">Advanced search</a>
                    </div>
                </div>
                </form>
            </div>
            <br>
            <div class="standard_tile_text_center"><a href="javascript:history.go(-1)" class="standard_tile_link">back</a></div>
        </div>
        <div class="content_box_cpanel" id="column_right_cpanel">
            <br>
            {block name=right_tile}
                {if $mode == "advanced"}
                    {include file='../tiles/tile_screenstar.html'}
                    <br>
                    {include file='../tiles/tile_changes_per_month.html'}
                {else}
                    {include file='../tiles/tile_changes_per_month.html'}
                {/if}
            {/block}
        </div>
    </div>
{/block}
